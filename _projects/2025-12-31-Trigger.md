---
layout: post
title: "Trigger"
date: 2025-12-08
---

# Trigger

**Monitor → Analyze → Notify**

A lightweight system to monitor websites, analyze changes, and trigger notifications when conditions are met.

---

## Tech Stack

1. **Playwright**  
   - Used to crawl HTML with real browser-like behavior  
   - Suitable for dynamic websites (JavaScript-heavy)

2. **GitHub Actions (Workflow)**  
   - Runs scripts at fixed intervals  
   - Free and easy to automate scheduled checks

3. **Notification Layer**
   - **Firebase Cloud Messaging (FCM)** – if already integrated in a mobile app  
   - **Telegram Bot (API)** – preferred fallback due to simplicity and reliability

---

## Design Decisions

1. **Prefer APIs or JSON Endpoints**  
   - Always look for official or hidden APIs before resorting to browser emulation  
   - Faster, more reliable, and less prone to breaking

2. **Choose the Right Crawling Strategy**
   - **Static websites** → use `requests`  
   - **Dynamic websites** → use:
     - **Playwright** (fast, modern, recommended)
     - **Selenium WebDriver** (slower, legacy support)
   - Necessary when websites rely on client-side rendering or block basic scraping

3. **Optional Storage Layer**
   - Use **SQLite** or **Redis** for persistence and state tracking

   **Stored Data Fields:**
   - `url`
   - `last_price`
   - `last_check_time`
   - `last_content_hash`
   - `alert_triggered` (boolean)

---

## Architecture Summary

```text
Website
   ↓
Monitor (Requests / Playwright)
   ↓
Analyze (Price / Content / Hash Diff)
   ↓
Notify (Telegram / FCM)
